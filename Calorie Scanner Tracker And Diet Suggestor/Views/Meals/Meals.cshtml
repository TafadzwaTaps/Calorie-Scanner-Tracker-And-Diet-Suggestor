@{
    ViewData["Title"] = "Meals";
    var mealType = Context.Request.Query["type"].ToString().ToUpper();
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - @mealType</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <style>
        :root {
            --bg-light: white;
            --text-light: black;
            --card-light: #f8f9fa;
            --primary-light: #0d6efd;
            --bg-dark: #121212;
            --text-dark: white;
            --card-dark: #1e1e1e;
            --primary-dark: #1e3a8a;
        }

        body {
            background-color: var(--bg-light);
            color: var(--text-light);
            transition: background 0.3s, color 0.3s;
        }

        .meal-card {
            background-color: var(--card-light);
            border-radius: 10px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

            .meal-card:hover {
                transform: translateY(-5px);
                box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.2);
            }

        .btn-primary {
            background-color: var(--primary-light);
            border: none;
        }

            .btn-primary:hover {
                background-color: #0b5ed7;
            }

        /* Dark Mode */
        body.dark-mode {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }

        .dark-mode .meal-card {
            background-color: var(--card-dark);
        }

        .dark-mode .btn-primary {
            background-color: var(--primary-dark);
        }

            .dark-mode .btn-primary:hover {
                background-color: #172554;
            }

        .toggle-container {
            position: absolute;
            top: 20px;
            right: 20px;
        }
    </style>
</head>

<body>
    <!-- Dark Mode Toggle -->
    <div class="toggle-container">
        <button id="darkModeToggle" class="btn btn-secondary">🌙 Toggle Dark Mode</button>
    </div>

    <div class="container mt-5">
        <h1 class="text-center">Available Meals for <span class="text-primary">@mealType</span></h1>
        <p class="text-center">Browse meals and select one to track.</p>

        <!-- Filter Options -->
        <div class="row mb-4">
            <div class="col-md-4">
                <label>Calories</label>
                <input type="number" class="form-control" placeholder="Max Calories">
            </div>
            <div class="col-md-4">
                <label>Macronutrients</label>
                <select class="form-control">
                    <option value="">Select...</option>
                    <option value="high_protein">High Protein</option>
                    <option value="low_carb">Low Carb</option>
                    <option value="low_fat">Low Fat</option>
                </select>
            </div>
            <div class="col-md-4">
                <label>Dietary Restrictions</label>
                <select class="form-control">
                    <option value="">Select...</option>
                    <option value="vegan">Vegan</option>
                    <option value="vegetarian">Vegetarian</option>
                    <option value="gluten_free">Gluten-Free</option>
                </select>
            </div>
        </div>

        <!-- Meal Cards -->
        <div class="row">
            <div class="col-md-4">
                <div class="card meal-card p-3 text-center">
                    <img src="https://source.unsplash.com/300x200/?breakfast,healthy" class="card-img-top" alt="Meal">
                    <div class="card-body">
                        <h3>Oatmeal & Fruits</h3>
                        <p>Calories: <strong>250 kcal</strong></p>
                        <p>Protein: <strong>8g</strong> | Carbs: <strong>45g</strong> | Fats: <strong>5g</strong></p>
                        <button class="btn btn-primary">Add to Tracker</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card meal-card p-3 text-center">
                    <img src="https://source.unsplash.com/300x200/?breakfast,eggs" class="card-img-top" alt="Meal">
                    <div class="card-body">
                        <h3>Scrambled Eggs & Toast</h3>
                        <p>Calories: <strong>300 kcal</strong></p>
                        <p>Protein: <strong>20g</strong> | Carbs: <strong>30g</strong> | Fats: <strong>10g</strong></p>
                        <button class="btn btn-primary">Add to Tracker</button>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="card meal-card p-3 text-center">
                    <img src="https://source.unsplash.com/300x200/?breakfast,smoothie" class="card-img-top" alt="Meal">
                    <div class="card-body">
                        <h3>Banana Smoothie</h3>
                        <p>Calories: <strong>200 kcal</strong></p>
                        <p>Protein: <strong>10g</strong> | Carbs: <strong>35g</strong> | Fats: <strong>2g</strong></p>
                        <button class="btn btn-primary">Add to Tracker</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const darkModeToggle = document.getElementById("darkModeToggle");
        const body = document.body;

        darkModeToggle.addEventListener("click", () => {
            body.classList.toggle("dark-mode");
        });
    </script>
</body>
</html>
